var sellItems=function(){var u=!1;$("body").on("click",function(a){$(".cart-circle").removeClass("cart-open"),$(".cart-shadow").removeClass("cart-popup"),$(".cart").hide(),$(".product").removeClass("clicado").children(".product-fade").removeClass("clicado-fade")}),$(".cart-circle").on("click",function(a){a.stopPropagation(),$(".product").removeClass("clicado").children(".product-fade").removeClass("clicado-fade")}),$(".popup-sucsess-ok").on("click",function(a){a.preventDefault(),$("#popup-sucsess").hide(),location.reload()});var i,a=function(){$(".cart").slideToggle(),$(".cart-circle").toggleClass("cart-open").toggleClass("cart-circle-mobile"),$(".cart-title").toggleClass("cart-title-mobile"),$(".cart-icon").toggleClass("cart-icon-mobile"),$(".cart-faixa").toggleClass("cart-faixa-mobile"),$(".cart-faixa-x").toggleClass("cart-faixa-x-visible"),$(".cart-shadow").toggleClass("cart-shadow-mobile"),$(".cart").toggleClass("cart-mobile"),0<$(".cart-blink").length&&$(".cart-icon").toggleClass("cart-blink")},v=[],o=function(){$(".product").click(function(a){a.stopPropagation(),$(".cart-circle").removeClass("cart-open"),$(".cart").hide();var t=$(a.currentTarget);$(".product").removeClass("clicado").children(".product-fade").removeClass("clicado-fade"),t.addClass("clicado").children(".product-fade").addClass("clicado-fade"),a.stopPropagation()}),$(".add-to-cart").click(function(a){$(".cart-shadow").removeClass("cart-popup");var t=$(a.currentTarget).parent(".popup-qtd"),e=t.parent(".product-fade"),c=e.parent(".product"),r=+t.children(".qtd-caixas-product").val();if(t.children(".qtd-caixas-product").val(0),r<1)t.children(".error-add").addClass("error");else{0==$(".cart-item").length&&$(".cart-circle ").toggle(),t.children(".error-add").removeClass("error"),c.removeClass("clicado"),e.removeClass("clicado-fade");var i=$(a.currentTarget).attr("product-index");$("#cart-item-"+v[i].Id).detach();var o="<div class='cart-item' product-index='"+i+"' SKU='"+v[i].SKU+"' product-id='"+v[i].Id+"' id='cart-item-"+v[i].Id+"'>\n              <div class=\"remove-item remove-"+v[i].Id+"\" title='Remover do carrinho'>\n                <span class=\"x-button\">X</span>\n              </div>\n              <div class='cart-item-image' style=\"background-image:url('"+v[i].Icone+"')\"></div>\n              <div class='product-name' title=\""+v[i].Title+'">'+v[i].Title+"</div>\n              <div class='product-price' >R$"+m(r*v[i].Preco)+"</div>\n              <div class='qtd-div'>\n                <label>Quantidade</label>\n                <input type='number' min='1' class='qtd-caixas' value='"+r+"' default-price='"+v[i].Preco+"'/>  \n              </div>\n              <div class=\"clear-float\"></div>\n              <hr class='product-line'/>\n          </div>";$("#cart-items").append(o),a.stopPropagation(),$(".cart-buttons").prop("disabled",!1),$(".cart-buttons").removeClass("botao-desabilitado"),0==$(".cart-open").length&&$(".cart-icon").addClass("cart-blink"),$(".remove-"+v[i].Id).click(function(a){var t=$(a.currentTarget).parent(),e=g(t.children(".product-price").text().split("R$")[1]),c=g($("#cart-total").text().split("Total: R$")[1]),r="Total: R$"+m(c-e);$("#cart-total").text(r),1==$(".cart-item").length&&$(".cart-circle ").toggle(),t.detach()}),u||(h(),u=!0);for(var l=$(".qtd-caixas"),d=0;d<l.length;d++)+l.eq(d).val();for(var s=0,n=$(".cart-item"),p=0;p<n.length;p++)s+=g(n.eq(p).children(".product-price").text().split("R$")[1]);$("#cart-total").text("Total: R$"+m(s)),f(),1<n.length?n.children("label").addClass("label-items"):n.children("label").removeClass("label-items")}})},g=function(a){return+a.replace(/\./g,"").replace(/\,/g,".")},m=function(a){return(a=a.toFixed(2).split("."))[0]=a[0].split(/(?=(?:...)*$)/).join("."),a.join(",")},f=function(){$(".qtd-caixas").change(function(a){$(".qtd-caixas");var t=+$(a.currentTarget).val(),e=m(parseFloat($(a.currentTarget).attr("default-price"))*t);$(a.currentTarget).parent(".qtd-div").parent(".cart-item").children(".product-price").text("R$"+e);for(var c=$(".cart-item"),r=0,i=0;i<c.length;i++)r+=+g(c.eq(i).children(".product-price").text().split("R$")[1]);$("#cart-total").text("Total: R$"+m(r))})};$(".cart-buttons").prop("disabled",!0);var l,h=function(){console.log("Pedido Enviado")};$(".cart-icon").click(function(){a()}),$(".cart-faixa-x").click(function(){a()}),l=0,$.ajax({url:"http://localhost:3000/Produtos",success:function(a){for(var t=0,e=a;t<e.length;t++){var c=e[t],r=null!=c.ImageSrc?c.ImageSrc:"../images/itemdefault.png";v.push({Title:c.Title,Icone:r}),i="<div class='product'>               \n                  <div class='product-image' style=\"background-image:url('"+r+"')\"></div>\n                  <div class='product-data'>\n                   <div class='product-name'>"+c.Title+"</div>\n                   <div class='product-price'>R$"+m(c.Price)+"</div>\n                  </div>\n                  <div class='product-button'><img class='cart-icone-add' src='../images/cart.png'/></div>\n                  <div class='product-fade'>\n                    <div class='popup-qtd'>\n                      <label>Quantidade</label>\n                      <input type='number' min='1' class='qtd-caixas-product' value='0'/>\n                      <div class='error-add'>Por favor, digite um n√∫mero maior que 0</div>\n                      <button class='add-to-cart' type='button' product-index='"+l+"'>Adicionar ao Carrinho</button>\n                    </div>\n                    <div class='product-fade-circle'></div>\n                  </div>\n                </div>",l++,$(".produtos-carregados").append(i),l==a.length&&o()}$("#produtos").show()}})};sellItems();
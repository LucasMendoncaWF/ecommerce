var sellItems=function(){$("body").on("click",function(t){$(".cart-circle").removeClass("cart-open"),$(".cart-shadow").removeClass("cart-popup"),$(".cart").hide(),$(".product").removeClass("clicado").children(".product-fade").removeClass("clicado-fade")}),$(".cart-circle").on("click",function(t){t.stopPropagation(),$(".product").removeClass("clicado").children(".product-fade").removeClass("clicado-fade")});var a=function(){$(".cart").slideToggle(),$(".cart-circle").toggleClass("cart-open").toggleClass("cart-circle-mobile"),$(".cart-title").toggleClass("cart-title-mobile"),$(".cart-icon").toggleClass("cart-icon-mobile"),$(".cart-faixa").toggleClass("cart-faixa-mobile"),$(".cart-faixa-x").toggleClass("cart-faixa-x-visible"),$(".cart-shadow").toggleClass("cart-shadow-mobile"),$(".cart").toggleClass("cart-mobile"),0<$(".cart-blink").length&&$(".cart-icon").toggleClass("cart-blink")};$("#categoria").change(function(t){var a=$(t.currentTarget),e=$(".product");if(e.removeClass("clear-float"),"Todos"==a.val()){e.removeClass("filtrado");for(var r=0;r<e.length;r++)r%6==0&&e.eq(r).addClass("clear-float")}else{for(r=0;r<e.length;r++)e.eq(r).attr("category")==a.val()?e.eq(r).removeClass("filtrado"):e.eq(r).addClass("filtrado");for(r=0;r<e.not(".filtrado").length;r++)r%6==0&&e.not(".filtrado").eq(r).addClass("clear-float")}});var l,d,n=[],i=function(){$(".product").click(function(t){t.stopPropagation(),$(".cart-circle").removeClass("cart-open"),$(".cart").hide();var a=$(t.currentTarget);$(".product").removeClass("clicado").children(".product-fade").removeClass("clicado-fade"),a.addClass("clicado").children(".product-fade").addClass("clicado-fade"),t.stopPropagation()}),$(".add-to-cart").click(function(t){$(".cart-shadow").removeClass("cart-popup");var a=$(t.currentTarget).parent(".popup-qtd"),e=a.parent(".product-fade"),r=e.parent(".product"),c=+a.children(".qtd-produtosQtd-product").val();if(a.children(".qtd-produtosQtd-product").val(0),c<1)a.children(".error-add").addClass("error");else{0==$(".cart-item").length&&$(".cart-circle ").toggle(),a.children(".error-add").removeClass("error"),r.removeClass("clicado"),e.removeClass("clicado-fade");var o=$(t.currentTarget).attr("product-index");$("#cart-item-"+n[o].Id).detach();var l="<div class='cart-item' product-index='"+o+"' product-id='"+n[o].Id+"' id='cart-item-"+n[o].Id+"'>\n              <div class=\"remove-item remove-"+n[o].Id+"\" title='Remover do carrinho'>\n                <span class=\"x-button\">X</span>\n              </div>\n              <div class='cart-item-image' style=\"background-color:"+n[o].BgColor+";background-image:url('"+n[o].Icone+"')\"></div>\n              <div class='product-name' title=\""+n[o].Title+'">'+n[o].Title+"</div>\n              <div class='product-price' >R$"+u(c*n[o].Preco)+"</div>\n              <div class='qtd-div'>\n                <label>Quantidade</label>\n                <input type='number' min='1' class='qtd-produtosQtd' value='"+c+"' default-price='"+n[o].Preco+"'/>  \n              </div>\n              <div class=\"clear-float\"></div>\n              <hr class='product-line'/>\n          </div>";$("#cart-items").append(l),t.stopPropagation(),$(".cart-buttons").prop("disabled",!1),$(".cart-buttons").removeClass("botao-desabilitado"),0==$(".cart-open").length&&$(".cart-icon").addClass("cart-blink"),$(".remove-"+n[o].Id).click(function(t){var a=$(t.currentTarget).parent(),e=p(a.children(".product-price").text().split("R$")[1]),r=p($("#cart-total").text().split("Total: R$")[1]),c="Total: R$"+u(r-e);$("#cart-total").text(c),1==$(".cart-item").length&&$(".cart-circle ").toggle(),a.detach()});for(var d=0,i=$(".cart-item"),s=0;s<i.length;s++)d+=p(i.eq(s).children(".product-price").text().split("R$")[1]);$("#cart-total").text("Total: R$"+u(d)),v(),1<i.length?i.children("label").addClass("label-items"):i.children("label").removeClass("label-items")}})},p=function(t){return+t.replace(/\./g,"").replace(/\,/g,".")},u=function(t){return(t=t.toFixed(2).split("."))[0]=t[0].split(/(?=(?:...)*$)/).join("."),t.join(",")},v=function(){$(".qtd-produtosQtd").change(function(t){$(".qtd-produtosQtd");var a=+$(t.currentTarget).val(),e=u(parseFloat($(t.currentTarget).attr("default-price"))*a);$(t.currentTarget).parent(".qtd-div").parent(".cart-item").children(".product-price").text("R$"+e);for(var r=$(".cart-item"),c=0,o=0;o<r.length;o++)c+=+p(r.eq(o).children(".product-price").text().split("R$")[1]);$("#cart-total").text("Total: R$"+u(c))})};$(".cart-buttons").prop("disabled",!0),$("#cart-finish").click(function(t){$("#popup-sucsess").show(),$(".cart-item").detach(),a(),setTimeout(function(){$(".loading").hide(),$(".popup-sucsess-ok, .popup-sucsess-message").show()},3e3)}),$(".popup-sucsess-ok").click(function(t){t.preventDefault(),location.reload()}),$(".cart-icon").click(function(){a()}),$(".cart-faixa-x").click(function(){a()}),d=0,$.ajax({url:"/lucasmendoncapportfolio.atwebpages.com/json/produtos.json",success:function(t){for(var a=0,e=t.Produtos;a<e.length;a++){var r=e[a],c=""!=r.ImageSrc?r.ImageSrc:"../images/itemdefault.png",o=""!=r.BgColor?r.BgColor:"#fff";n.push({Title:r.Title,Icone:c,Preco:r.Price,Id:r.Id,BgColor:o}),l="<div class='product' category='"+r.Category+"'>               \n                  <div class='product-image' style=\"background-color:"+o+";background-image:url('"+c+"')\"></div>\n                  <div class='product-data'>\n                   <div class='product-name'>"+r.Title+"</div>\n                   <div class='product-price'>R$"+u(r.Price)+"</div>\n                  </div>\n                  <div class='product-button'><img class='cart-icone-add' src='../images/cart.png'/></div>\n                  <div class='product-fade'>\n                    <div class='popup-qtd'>\n                      <label>Quantidade</label>\n                      <input type='number' min='1' class='qtd-produtosQtd-product' value='0'/>\n                      <div class='error-add'>Por favor, digite um n√∫mero maior que 0</div>\n                      <button class='add-to-cart' type='button' product-index='"+d+"'>Adicionar ao Carrinho</button>\n                    </div>\n                    <div class='product-fade-circle'></div>\n                  </div>\n                </div>",d++,$(".produtos-carregados").append(l),d==t.length&&i()}$("#produtos").show()}})};sellItems();